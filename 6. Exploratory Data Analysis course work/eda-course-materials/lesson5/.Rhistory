ggplot(
aes(x = gender, y = age),
data = subset(pf, !is.na(gender))
) +
geom_histogram()
library(dplyr)
library(ggplot2)
library(gridExtra)
ggplot(
aes(x = gender, y = age),
data = subset(pf, !is.na(gender))
) +
geom_histogram()
pf <- read.delim('pseudo_facebook.tsv')
ggplot(
aes(x = gender, y = age),
data = subset(pf, !is.na(gender))
) +
geom_histogram()
pf.by.gender.and.age <- pf %>%
group_by(gender, age) %>%
summarise(
median.friend.count = median(friend_count),
mean.friend.count = mean(friend_count),
n = n()
)
head(pf.by.gender.and.age)
View(pf.by.gender.and.age)
pf <- read.delim('pseudo_facebook.tsv')
pf.fc_by_age_gender <- pf %>%
group_by(gender, age) %>%
summarise(
median_friend_count = median(friend_count),
mean_friend_count = mean(friend_count),
n = n()
)
pf.fc_by_age_gender <- pf %>%
group_by(age, gender) %>%
summarise(
median_friend_count = median(friend_count),
mean_friend_count = mean(friend_count),
n = n()
)
pf.fc_by_age_gender <- pf %>%
group_by(age, gender) %>%
summarise(
mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n()
)
pf.fc_by_age_gender <- pf %>%
group_by(age, gender) %>%
summarise(
mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n()
) %>%
ungroup() %>%
arrange(age)
pf.fc_by_age_gender <- pf %>%
filter(!is.na(gender)) %>%
group_by(age, gender) %>%
summarise(
mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n()
) %>%
ungroup() %>%
arrange(age)
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = friend_count),
color = gender
) +
geom_line()
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = friend_count)
) +
geom_line(color = gender)
head(pf.fc_by_age_gender)
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = friend_count)
) +
geom_line(color = pf.fc_by_age_gender$gender)
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count)
) +
geom_line(color = pf.fc_by_age_gender$gender)
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count)
) +
geom_line(colors = pf.fc_by_age_gender$gender)
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count),
colors = gender
) +
geom_line()
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count),
color = gender
) +
geom_line()
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count),
color = gender
) +
geom_line()
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count, color = gender)
) +
geom_line()
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count, color = gender)
) +
geom_line() +
scale_x_continuous(breaks = seq(min(pf.fc_by_age_gender$age), max(pf.fc_by_age_gender$age), 5))
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count, color = gender)
) +
geom_line() +
scale_x_continuous(breaks = seq(10, max(pf.fc_by_age_gender$age), 5))
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count, color = gender)
) +
geom_line() +
scale_x_continuous(breaks = seq(15, max(pf.fc_by_age_gender$age), 5))
ggplot(
data = pf.fc_by_age_gender,
aes(x = age, y = mean_friend_count)
) +
geom_line(aes(color = gender)) +
scale_x_continuous(breaks = seq(15, max(pf.fc_by_age_gender$age), 5))
install.packages("tidyr")
library(tidyr)
install.packages('reshape2')
library(reshape2)
spread?
x
?spread
spread(
subset(
pf.fc_by_age_gender,
select = c('gender', 'age', 'median_friend_count')
),
gender,
median_friend_count
)
pf.fc_by_age_gender %>%
subset(
select = c('gender', 'age', 'median_friend_count')
) %>%
spread(
gender,
median_friend_count
) %>%
mutate(ratio = male / female)
pf.fc_by_age_gender %>%
subset(
select = c('gender', 'age', 'median_friend_count')
) %>%
spread(
gender,
median_friend_count
) %>%
mutate(ratio = male / female) %>%
ggplot(
aes(x = age, y = ratio)
) +
geom_line()
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = friend_count)
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = median_friend_count)
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = median_friend_count)
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = 'median_friend_count')
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = 'median_friend_count') %>%
mutate(ratio = male / female) %>%
ggplot(
aes(x = age, y = ratio)
) +
geom_line()
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = 'median_friend_count') %>%
mutate(ratio = male / female) %>%
ggplot(
aes(x = age, y = ratio)
) +
geom_line() +
geom_hline(yintercept = 1)
pf.fc_by_age_gender %>%
subset(
select = c('gender', 'age', 'median_friend_count')
) %>%
spread(
gender,
median_friend_count
) %>%
mutate(ratio = male / female) %>%
ggplot(
aes(x = age, y = ratio)
) +
geom_line() +
geom_hline(yintercept = 1)
pf.fc_by_age_gender %>%
subset(
select = c('gender', 'age', 'median_friend_count')
) %>%
spread(
gender,
median_friend_count
) %>%
mutate(ratio = male / female) %>%
ggplot(
aes(x = age, y = ratio)
) +
geom_line() +
geom_hline(yintercept = 1, linetype = 2, alpha = 0.5)
pf.fc_by_age_gender %>%
dcast(age ~ gender, value.var = 'median_friend_count') %>%
mutate(ratio = male / female) %>%
ggplot(
aes(x = age, y = ratio)
) +
geom_line() +
geom_hline(yintercept = 1, alpha = 0.3, linetype = 2)
names(pf)
subset(select c('tenure'))
subset(select = c('tenure'))
pf %>% subset(select = c('tenure'))
max(pf$tenure)
summary(pf$tenure)
summary(pf$tenure / 12)
summary(pf$tenure / 30)
summary(pf$tenure / 365)
pf$year_joined <- floor(2014 - pf$tenure / 365)
pf$year_joined
?cut
cut(pf$year_joined, breaks = c(2004, 2009, 2011, 2012, 2014))
str(cut(pf$year_joined, breaks = c(2004, 2009, 2011, 2012, 2014)))
str(ordered(cut(pf$year_joined, breaks = c(2004, 2009, 2011, 2012, 2014)), levels = c('(2004,2009]', '(2009,2011]', '(2011,2012]', '(2012,2014]')))
pf$year_joined.bucket <- ordered(
cut(
pf$year_joined,
breaks = c(2004, 2009, 2011, 2012, 2014)
),
levels = c('(2004,2009]', '(2009,2011]', '(2011,2012]', '(2012,2014]')
)
pf$year_joined.bucket <- # ordered(
cut(
pf$year_joined,
breaks = c(2004, 2009, 2011, 2012, 2014)
)# ,
levels(pf$year_joined.bucket)
pf$year_joined.bucket <- ordered(
cut(
pf$year_joined,
breaks = c(2004, 2009, 2011, 2012, 2014)
),
levels = c('(2004,2009]', '(2009,2011]', '(2011,2012]', '(2012,2014]')
)
levels(pf$year_joined.bucket)
pf$year_joined.bucket <- ordered(
cut(
pf$year_joined,
breaks = c(2004, 2009, 2011, 2012, 2014)
),
levels = c('(2004,2009]', '(2009,2011]', '(2011,2012]', '(2012,2014]')
)
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(gender))) +
geom_line(aes(color = gender), stat = 'summary', fun.y = median)
ggplot(
aes(x = age, y = friend_count),
data = subset(pf, !is.na(gender))
) +
geom_line(aes(color = gender), stat = 'summary', fun.y = median)
ggplot(
aes(x = age, y = friend_count),
data = subset(pf, !is.na(friend_count.bucket))
) +
geom_line(aes(color = friend_count.bucket), stat = 'summary', fun.y = median)
ggplot(
aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))
) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median)
ggplot(
aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))
) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
scale_x_continuous(breaks = seq(15, 100, 5))
ggplot(
aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))
) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
scale_x_continuous(breaks = seq(15, 110, 5))
ggplot(
aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))
) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
geom_line(linetype = 2, stat = 'summary', fun.y = mean)
pf %>%
subset(tenure >= 1) %>%
transform(friending.rate = friend_count / tenure)
names(pf)
pf %>%
subset(tenure >= 1) %>%
transform(friending.rate = friend_count / tenure) %>%
table(friending.rate)
pfff <- pf %>%
subset(tenure >= 1) %>%
transform(friending.rate = friend_count / tenure)
table(pfff$friending.rate)
summary(pfff$friending.rate)
with(subset(pf, tenure >= 1), summary(friend_count / tenure))
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated)
) +
geom_line()
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated)
) +
geom_line(stat = 'summary', fun.y = mean)
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated / tenure)
) +
geom_line(stat = 'summary', fun.y = mean)
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated / tenure)
) +
geom_line(stat = 'summary', fun.y = mean, aes(color = year_joined.bucket))
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated / tenure)
) +
geom_line(stat = 'summary', fun.y = mean, aes(color = year_joined.bucket)) +
geom_smooth(aes(color = year_joined.bucket))
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated / tenure)
) +
# geom_line(stat = 'summary', fun.y = mean, aes(color = year_joined.bucket)) +
geom_smooth(aes(color = year_joined.bucket))
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated / tenure)
) +
geom_line(stat = 'summary', fun.y = mean, aes(color = year_joined.bucket)) +
geom_smooth()
ggplot(
data = subset(pf, tenure >= 1),
aes(x = tenure, y = friendships_initiated / tenure)
) +
# geom_line(stat = 'summary', fun.y = mean, aes(color = year_joined.bucket)) +
geom_smooth(aes(color = year_joined.bucket))
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket),
stat = 'summary',
fun.y = mean)
ggplot(aes(x = 7 * round(tenure / 7), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 30 * round(tenure / 30), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
yoghurt <- read.csv('yogurt.csv')
str(yoghurt)
head(yoghurt)
names(yoghurt)
head(yoghurt)
View(yoghurt)
yoghurt$id <- factor(yoghurt$id)
head(yoghurt)
yo <- read.csv('yogurt.csv')
yo$id <- factor(yo$id)
head(yo)
ggplot(aes(x = price)) + geom_histogram()
ggplot(data = yo, aes(x = price)) + geom_histogram()
ggplot(data = yo, aes(x = price)) +
geom_histogram(binwidth = 10)
ggplot(data = yo, aes(x = price)) +
geom_histogram()
yo %>%
transform(all.purchases = strawberry + blueberry + pina.colada + plain + mixed.berry)
yo <- yo %>%
transform(all.purchases = strawberry + blueberry + pina.colada + plain + mixed.berry)
ggplot(
data = yo,
aes(x = time, y = price)
) +
geom_point(alpha = 0.1)
ggplot(
data = yo,
aes(x = time, y = price)
) +
geom_point(alpha = 0.1, jitter())
ggplot(
data = yo,
aes(x = time, y = price)
) +
geom_jitter(alpha = 0.1)
yo$time
set.seed(42)
ids <- sample(levels(yo$id), 16)
yo.sample <- subset(yo, id %in% ids)
ggplot(
data = yo.sample
) +
facet_wrap( ~ id) +
geom_line()
ggplot(
data = yo.sample,
aes(x = time, y = price)
) +
facet_wrap( ~ id) +
geom_line()
ggplot(
data = yo.sample,
aes(x = time, y = price)
) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases))
ggplot(
data = yo.sample,
aes(x = time, y = price)
) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases), pch = 1)
ggplot(
data = yo.sample,
aes(x = time, y = price)
) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases), pch = 4)
ggplot(
data = yo.sample,
aes(x = time, y = price)
) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases), pch = 13)
install.packages(GGally)
library(GGally)
install.packages('GGally')
library(GGally)
